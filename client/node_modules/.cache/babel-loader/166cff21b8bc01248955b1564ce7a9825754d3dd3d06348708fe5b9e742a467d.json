{"ast":null,"code":"import _objectSpread from\"D:/2202117/COASPIRE/coaspire/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{MapContainer,TileLayer,ImageOverlay,useMapEvents,Marker,Popup}from'react-leaflet';import'leaflet/dist/leaflet.css';import L from'leaflet';import axios from'axios';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,BarElement,Title,Tooltip,Legend,Filler}from'chart.js';import{Line,Bar}from'react-chartjs-2';// --- LEAFLET ICON FIX ---\nimport icon from'leaflet/dist/images/marker-icon.png';import iconShadow from'leaflet/dist/images/marker-shadow.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let DefaultIcon=L.icon({iconUrl:icon,shadowUrl:iconShadow,iconSize:[25,41],iconAnchor:[12,41]});L.Marker.prototype.options.icon=DefaultIcon;// --- REGISTER CHART COMPONENTS ---\nChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,Title,Tooltip,Legend,Filler);// --- 25 GLOBAL LOCATIONS ---\nconst COASTAL_POINTS=[// INDIA\n{name:\"Puri Beach, Odisha\",lat:19.798,lon:85.824,type:\"Erosion Risk\"},{name:\"Marine Drive, Mumbai\",lat:18.944,lon:72.823,type:\"Urban Coast\"},{name:\"Marina Beach, Chennai\",lat:13.050,lon:80.282,type:\"Sandy\"},{name:\"Varkala, Kerala\",lat:8.737,lon:76.716,type:\"Cliff\"},{name:\"Visakhapatnam\",lat:17.704,lon:83.332,type:\"Port City\"},{name:\"Lakshadweep\",lat:10.566,lon:72.641,type:\"Atoll\"},{name:\"Digha, WB\",lat:21.626,lon:87.507,type:\"Deltaic\"},{name:\"Rameswaram\",lat:9.287,lon:79.312,type:\"Coral\"},{name:\"Andaman Islands\",lat:11.976,lon:92.987,type:\"Mangrove\"},{name:\"Calangute, Goa\",lat:15.549,lon:73.753,type:\"Recreational\"},// GLOBAL\n{name:\"Gold Coast, Australia\",lat:-28.016,lon:153.400,type:\"High Energy\"},{name:\"Miami Beach, USA\",lat:25.790,lon:-80.130,type:\"Flood Risk\"},{name:\"Maldives\",lat:3.202,lon:73.220,type:\"Critical Level\"},{name:\"Dubai, UAE\",lat:25.204,lon:55.270,type:\"Artificial\"},{name:\"Cancun, Mexico\",lat:21.161,lon:-86.851,type:\"Tourism\"},{name:\"Copacabana, Brazil\",lat:-22.969,lon:-43.182,type:\"Urban\"},{name:\"Nice, France\",lat:43.696,lon:7.265,type:\"Pebble\"},{name:\"Phuket, Thailand\",lat:7.880,lon:98.392,type:\"Tropical\"},{name:\"Bali, Indonesia\",lat:-8.409,lon:115.188,type:\"Volcanic\"},{name:\"Cape Town, SA\",lat:-33.924,lon:18.424,type:\"Rocky\"},{name:\"Santorini, Greece\",lat:36.393,lon:25.461,type:\"Caldera\"},{name:\"Bora Bora\",lat:-16.500,lon:-151.741,type:\"Lagoon\"},{name:\"Bondi Beach, Aus\",lat:-33.891,lon:151.277,type:\"Bay\"},{name:\"Outer Banks, USA\",lat:35.558,lon:-75.466,type:\"Barrier\"},{name:\"Cornwall, UK\",lat:50.266,lon:-5.052,type:\"Rugged\"}];const styles={appShell:{position:'relative',minHeight:'100vh',background:'#050505',color:'#f4f4f4',fontFamily:'\"Poppins\", \"Segoe UI\", sans-serif',overflow:'hidden'},gradientBackdrop:{position:'fixed',inset:0,background:'radial-gradient(circle at 20% 20%, rgba(255,0,150,0.25), transparent 60%), radial-gradient(circle at 80% 0%, rgba(0,200,255,0.2), transparent 55%), linear-gradient(120deg, #05060a, #090014)',zIndex:0},neonNoise:{position:'fixed',inset:0,backgroundImage:'url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'160\\' height=\\'160\\' viewBox=\\'0 0 160 160\\'%3E%3Cpath fill=\\'%23555\\' fill-opacity=\\'0.05\\' d=\\'M0 0h20v20H0z\\'/%3E%3C/svg%3E\")',mixBlendMode:'soft-light',opacity:0.4,pointerEvents:'none'},header:{padding:'20px 30px',position:'relative',zIndex:2,display:'flex',justifyContent:'space-between',alignItems:'center'},glassPanel:{background:'rgba(10,10,15,0.7)',border:'1px solid rgba(255,255,255,0.08)',borderRadius:'24px',backdropFilter:'blur(18px)',boxShadow:'0 25px 60px rgba(0,0,0,0.45)'},controlPanel:{flex:1,padding:'25px',display:'flex',flexDirection:'column',gap:'18px'},mapShell:{flex:3,padding:'25px',minHeight:0},mapCard:{borderRadius:'32px',overflow:'hidden',border:'1px solid rgba(255,255,255,0.08)',boxShadow:'0 25px 60px rgba(0,0,0,0.55)',position:'relative'},glassButton:{width:'100%',padding:'14px 18px',borderRadius:'50px',border:'1px solid rgba(255,255,255,0.2)',background:'rgba(255,255,255,0.08)',color:'#f5f5f5',cursor:'pointer',fontWeight:600,letterSpacing:'0.03em',backdropFilter:'blur(10px)',transition:'transform 0.2s ease, box-shadow 0.2s ease'},aiButton:{display:'flex',alignItems:'center',justifyContent:'space-between',padding:'15px 22px',borderRadius:'48px',border:'1px solid rgba(22,220,255,0.4)',background:'linear-gradient(120deg, #00c6ff 0%, #7a00ff 70%, #b300ff 100%)',boxShadow:'0 18px 40px rgba(79,0,255,0.45)',color:'#fff',cursor:'pointer',fontWeight:600,letterSpacing:'0.04em'},aiButtonIcon:{width:'42px',height:'42px',borderRadius:'999px',background:'rgba(0,0,0,0.25)',display:'grid',placeItems:'center',marginRight:'16px'},aiButtonArrow:{width:0,height:0,borderLeft:'10px solid transparent',borderRight:'10px solid transparent',borderBottom:'18px solid #00f5ff',transform:'rotate(90deg)'}};const getDefaultGuardianPos=()=>({x:30,y:typeof window!=='undefined'?window.innerHeight-230:520});function MapController(_ref){let{onBoundsChange,targetLocation}=_ref;const map=useMapEvents({moveend:()=>onBoundsChange(map.getBounds()),zoomend:()=>onBoundsChange(map.getBounds())});React.useEffect(()=>{if(targetLocation){map.flyTo([targetLocation.lat,targetLocation.lon],13,{animate:true,duration:1.5});}},[targetLocation,map]);return null;}const ReportModal=_ref2=>{let{data,location,onClose}=_ref2;if(!data)return null;return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',background:'rgba(0,0,0,0.85)',zIndex:9999,display:'flex',justifyContent:'center',alignItems:'center',backdropFilter:'blur(5px)'},children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'700px',background:'#111',border:'2px solid #00d2ff',borderRadius:'10px',padding:'30px',position:'relative',boxShadow:'0 0 30px rgba(0, 210, 255, 0.3)',color:'white'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{position:'absolute',top:'15px',right:'20px',background:'none',border:'none',color:'white',fontSize:'20px',cursor:'pointer'},children:\"\\u2716\"}),/*#__PURE__*/_jsx(\"h2\",{style:{color:'#00d2ff',borderBottom:'1px solid #333',paddingBottom:'10px',marginTop:0},children:\"\\uD83D\\uDCC4 STRATEGIC COASTAL REPORT\"}),/*#__PURE__*/_jsxs(\"h4\",{style:{color:'white',marginTop:'5px'},children:[\"Target Zone: \",(location===null||location===void 0?void 0:location.name)||\"Unknown Region\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#1a1a1a',padding:'15px',borderRadius:'5px',marginBottom:'20px',borderLeft:'4px solid #00d2ff'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#00d2ff'},children:\"AI STRATEGY:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#ddd',fontSize:'0.9em'},children:data.ai_recommendation})]}),/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',color:'#ccc',fontSize:'0.9em'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #444',textAlign:'left'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px'},children:\"Timeline\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Vegetation (%)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Erosion Index\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Recovery Potential\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.timeline_data.map((row,idx)=>/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #222'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px',color:'white'},children:row.year}),/*#__PURE__*/_jsxs(\"td\",{style:{color:row.vegetation<50?'#ff0055':'#00ffcc'},children:[row.vegetation,\"%\"]}),/*#__PURE__*/_jsx(\"td\",{children:row.erosion_risk}),/*#__PURE__*/_jsx(\"td\",{style:{color:'#00d2ff'},children:row.restoration_potential}),/*#__PURE__*/_jsx(\"td\",{style:{fontWeight:'bold',color:row.status==='CRITICAL'?'#ff0055':row.status==='WARNING'?'#ffcc00':'#00ffcc'},children:row.status})]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'25px',display:'flex',justifyContent:'flex-end',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.print(),style:{padding:'10px 20px',background:'#333',color:'white',border:'1px solid #555',cursor:'pointer',borderRadius:'4px'},children:\"Print PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{padding:'10px 20px',background:'#00d2ff',color:'black',fontWeight:'bold',border:'none',cursor:'pointer',borderRadius:'4px'},children:\"Close Report\"})]})]})});};const PredictorModal=_ref3=>{let{data,onClose}=_ref3;if(!data)return null;const chartData={labels:data.visit_points.map((_,idx)=>\"Point \".concat(idx+1)),datasets:[{label:'Optimistic Data Values',data:data.graph_data,backgroundColor:'rgba(0, 210, 255, 0.6)',borderColor:'#00d2ff',borderWidth:1}]};const chartOptions={responsive:true,plugins:{legend:{labels:{color:'#ccc'}},title:{display:true,text:'Visit Points Analysis',color:'#00d2ff'}},scales:{x:{ticks:{color:'#888'},grid:{color:'#333'}},y:{ticks:{color:'#888'},grid:{color:'#333'}}}};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',background:'rgba(0,0,0,0.85)',zIndex:9999,display:'flex',justifyContent:'center',alignItems:'center',backdropFilter:'blur(5px)'},children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'800px',maxHeight:'90vh',overflowY:'auto',background:'#111',border:'2px solid #00d2ff',borderRadius:'10px',padding:'30px',position:'relative',boxShadow:'0 0 30px rgba(0, 210, 255, 0.3)',color:'white'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{position:'absolute',top:'15px',right:'20px',background:'none',border:'none',color:'white',fontSize:'20px',cursor:'pointer'},children:\"\\u2716\"}),/*#__PURE__*/_jsx(\"h2\",{style:{color:'#00d2ff',borderBottom:'1px solid #333',paddingBottom:'10px',marginTop:0},children:\"\\uD83E\\uDD16 AI PREDICTOR RESULTS\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Graph Plot:\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:'300px'},children:/*#__PURE__*/_jsx(Bar,{data:chartData,options:chartOptions})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Numerical Values:\"}),/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',color:'#ccc',fontSize:'0.9em'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #444'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px'},children:\"Point\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lat\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lon\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data Value\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.visit_points.map((point,idx)=>/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #222'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px'},children:idx+1}),/*#__PURE__*/_jsx(\"td\",{children:point.lat.toFixed(4)}),/*#__PURE__*/_jsx(\"td\",{children:point.lon.toFixed(4)}),/*#__PURE__*/_jsx(\"td\",{children:data.graph_data[idx]})]},idx))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Classification:\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#ddd'},children:data.summary.classification})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"GIS Picture:\"}),/*#__PURE__*/_jsx(\"img\",{src:\"data:image/png;base64,\".concat(data.gis_image),alt:\"GIS\",style:{maxWidth:'100%',border:'1px solid #333'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'flex-end',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.print(),style:{padding:'10px 20px',background:'#333',color:'white',border:'1px solid #555',cursor:'pointer',borderRadius:'4px'},children:\"Print\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{padding:'10px 20px',background:'#00d2ff',color:'black',fontWeight:'bold',border:'none',cursor:'pointer',borderRadius:'4px'},children:\"Close\"})]})]})});};const AnimatedTransectsOverlay=_ref4=>{let{active}=_ref4;if(!active)return null;const wrapperStyle={position:'absolute',top:0,left:0,width:'100%',height:'100%',pointerEvents:'none',overflow:'hidden'};const sweepStyle={width:'100%',height:'100%',backgroundImage:'repeating-linear-gradient( 90deg, rgba(255,255,255,0.08) 0px, rgba(255,255,255,0.08) 2px, transparent 2px, transparent 18px)',animation:'transectSweep 4s linear infinite',mixBlendMode:'screen',opacity:0.45,backdropFilter:'blur(0.5px)'};return/*#__PURE__*/_jsx(\"div\",{style:wrapperStyle,children:/*#__PURE__*/_jsx(\"div\",{style:sweepStyle})});};const LiveIntelWidget=_ref5=>{var _visData$metrics$vege,_visData$metrics,_visData$metrics$eros,_visData$metrics2;let{visData,onDeepScan,scanLog,visible,position,onDragStart}=_ref5;if(!visible)return null;const veg=(_visData$metrics$vege=visData===null||visData===void 0?void 0:(_visData$metrics=visData.metrics)===null||_visData$metrics===void 0?void 0:_visData$metrics.vegetation_coverage)!==null&&_visData$metrics$vege!==void 0?_visData$metrics$vege:62;const erosion=(_visData$metrics$eros=visData===null||visData===void 0?void 0:(_visData$metrics2=visData.metrics)===null||_visData$metrics2===void 0?void 0:_visData$metrics2.erosion_risk_index)!==null&&_visData$metrics$eros!==void 0?_visData$metrics$eros:38;const healthScore=Math.max(0,Math.min(100,Math.round(veg-erosion/3)));return/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',left:\"\".concat(position.x,\"px\"),top:\"\".concat(position.y,\"px\"),width:'260px',padding:'18px',borderRadius:'24px',background:'rgba(8,8,20,0.85)',border:'1px solid rgba(255,255,255,0.12)',boxShadow:'0 15px 35px rgba(0,0,0,0.45)',backdropFilter:'blur(14px)',color:'#e8e8ff',zIndex:5,cursor:'grab'},onMouseDown:onDragStart,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75em',letterSpacing:'0.2em',color:'#8f9aff'},children:\"SPECTRAL NODE\"}),/*#__PURE__*/_jsx(\"strong\",{style:{fontSize:'1.1em'},children:\"Guardian Watch\"})]}),/*#__PURE__*/_jsx(\"span\",{style:{width:'10px',height:'10px',borderRadius:'50%',background:'#32ffd2',boxShadow:'0 0 8px #32ffd2'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:'18px 0 10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75em',color:'#b7b7d3',marginBottom:'6px'},children:\"Bio-Shield Integrity\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:'12px',borderRadius:'999px',background:'rgba(255,255,255,0.08)',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"\".concat(healthScore,\"%\"),height:'100%',background:'linear-gradient(90deg,#00ffc6,#7d34ff)'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'0.75em',color:'#9a9ab9',marginTop:'4px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[healthScore,\"%\"]}),/*#__PURE__*/_jsx(\"span\",{children:\"Stability\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75em',color:'#b4b4d6',minHeight:'34px'},children:scanLog||'Awaiting deep scan command.'}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onDeepScan();},style:{marginTop:'10px',width:'100%',padding:'10px 0',borderRadius:'999px',border:'1px solid rgba(0,255,214,0.6)',background:'rgba(0,0,0,0.35)',color:'#f5f5ff',fontWeight:600,cursor:'pointer'},children:\"Deploy Deep Scan\"})]});};// --- MAIN APPLICATION ---\nfunction App(){const[currentBounds,setCurrentBounds]=useState(null);const[visData,setVisData]=useState(null);const[reportData,setReportData]=useState(null);const[showReport,setShowReport]=useState(false);const[showGraph,setShowGraph]=useState(false);// GRAPH VISIBILITY STATE\nconst[loading,setLoading]=useState(false);const[targetLocation,setTargetLocation]=useState(null);const[futureYear,setFutureYear]=useState(0);const[predictorData,setPredictorData]=useState(null);const[showPredictor,setShowPredictor]=useState(false);const[guardianLog,setGuardianLog]=useState('');const[showGuardian,setShowGuardian]=useState(true);const[guardianPos,setGuardianPos]=useState(getDefaultGuardianPos);const[guardianDrag,setGuardianDrag]=useState({active:false,offsetX:0,offsetY:0});// 1. RUN SIMULATION\nconst handleAnalyze=async()=>{if(!currentBounds)return;setLoading(true);// Reset graph on new run\nsetShowGraph(false);const bbox=[currentBounds.getSouth(),currentBounds.getWest(),currentBounds.getNorth(),currentBounds.getEast()];try{const res=await axios.post('http://localhost:3000/api/coastal-analysis',{bbox,future_year:futureYear,show_transects:true});setVisData(res.data);}catch(err){console.error(err);alert(\"Connection Error: Ensure Node (3000) and Python (5000) are running.\");}setLoading(false);};// 2. GENERATE REPORT\nconst handleGenerateReport=async()=>{setLoading(true);try{const res=await axios.post('http://localhost:3000/api/generate-report',{});setReportData(res.data);setShowReport(true);}catch(err){alert(\"Failed to generate report.\");}setLoading(false);};// 3. AI PREDICTOR\nconst handleAIPredictor=async()=>{setLoading(true);try{const res=await axios.post('http://localhost:3000/api/ai-predictor',{});setPredictorData(res.data);setShowPredictor(true);}catch(err){alert(\"Failed to run AI Predictor.\");}setLoading(false);};const handleGuardianScan=()=>{var _visData$metrics$eros2,_visData$metrics3;const statusBank=['Ionizing coastal drift... residual surge dampened.','Mangrove lattice shows regenerative pulse.','Infra-spectral sweep detected latent erosion pockets.','Turbulence barrier calibrated to +3.2 resilience index.'];const risk=(_visData$metrics$eros2=visData===null||visData===void 0?void 0:(_visData$metrics3=visData.metrics)===null||_visData$metrics3===void 0?void 0:_visData$metrics3.erosion_risk_index)!==null&&_visData$metrics$eros2!==void 0?_visData$metrics$eros2:42;const pick=statusBank[Math.floor(Math.random()*statusBank.length)];setGuardianLog(\"\".concat(pick,\" Risk vector \").concat(risk.toFixed(1),\".\"));};const handleGuardianToggle=()=>setShowGuardian(prev=>!prev);const handleGuardianDragStart=e=>{e.preventDefault();setGuardianDrag({active:true,offsetX:e.clientX-guardianPos.x,offsetY:e.clientY-guardianPos.y});};useEffect(()=>{if(!guardianDrag.active)return;const handleMove=event=>{setGuardianPos(prev=>{const newX=Math.min(Math.max(10,event.clientX-guardianDrag.offsetX),window.innerWidth-280);const newY=Math.min(Math.max(10,event.clientY-guardianDrag.offsetY),window.innerHeight-190);return{x:newX,y:newY};});};const handleUp=()=>setGuardianDrag(prev=>_objectSpread(_objectSpread({},prev),{},{active:false}));window.addEventListener('mousemove',handleMove);window.addEventListener('mouseup',handleUp);return()=>{window.removeEventListener('mousemove',handleMove);window.removeEventListener('mouseup',handleUp);};},[guardianDrag]);useEffect(()=>{const handleResize=()=>{setGuardianPos(prev=>({x:Math.min(prev.x,window.innerWidth-280),y:Math.min(prev.y,window.innerHeight-190)}));};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);// 3. TOGGLE GRAPH HANDLER\nconst toggleGraph=()=>{if(!visData){alert(\"Please click 'Run Twin Simulation' first to generate data!\");return;}setShowGraph(!showGraph);};// --- CHART CONFIG ---\nconst getChartData=()=>{const sliderLabel=futureYear>0?\"Year +\".concat(futureYear):'Year +50';const labels=['Year 0','Year 10','Year 20','Year 30','Year 40',sliderLabel];const sliderInfluence=futureYear/5;// smooth response for all series\nconst vegetationSeries=[80,75,70,65,60,55].map((value,idx)=>{const adjusted=value-sliderInfluence*idx;return Math.max(20,Number(adjusted.toFixed(2)));});const erosionSeries=[20,25,30,40,55,60].map((value,idx)=>{const adjusted=value+sliderInfluence*(idx+1);return Math.min(95,Number(adjusted.toFixed(2)));});const shorelineSeries=[5,10,15,25,35,45].map((value,idx)=>{const adjusted=value+sliderInfluence*idx/2;return Number(adjusted.toFixed(2));});if(visData){vegetationSeries[vegetationSeries.length-1]=visData.metrics.vegetation_coverage;erosionSeries[erosionSeries.length-1]=visData.metrics.erosion_risk_index;}return{labels,datasets:[{label:'Vegetation Edge',data:vegetationSeries,borderColor:'#00ffcc',backgroundColor:'rgba(0, 255, 204, 0.1)',tension:0.4},{label:'Coastal Erosion',data:erosionSeries,borderColor:'#ff0055',backgroundColor:'rgba(255, 0, 85, 0.1)',tension:0.4},{label:'Water Shorelines',data:shorelineSeries,borderColor:'#00d2ff',borderDash:[5,5],tension:0.4}]};};const chartOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'#ccc',boxWidth:10,font:{size:10}}},title:{display:false}},scales:{x:{grid:{color:'#333'},ticks:{color:'#888',font:{size:9}}},y:{grid:{color:'#333'},ticks:{color:'#888',font:{size:9}}}}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.appShell,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.gradientBackdrop}),/*#__PURE__*/_jsx(\"div\",{style:styles.neonNoise}),showReport&&/*#__PURE__*/_jsx(ReportModal,{data:reportData,location:targetLocation,onClose:()=>setShowReport(false)}),showPredictor&&/*#__PURE__*/_jsx(PredictorModal,{data:predictorData,onClose:()=>setShowPredictor(false)}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',zIndex:1,display:'flex',flexDirection:'column',minHeight:'100vh'},children:[/*#__PURE__*/_jsxs(\"header\",{className:\"neon-header\",style:styles.header,children:[/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.glassPanel),{},{padding:'18px 24px',flex:1,marginRight:'20px',display:'flex',alignItems:'center',justifyContent:'space-between',gap:'20px'}),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{style:{margin:0,color:'#fefefe',letterSpacing:'0.08em'},children:[\"COASPIRE \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#7f6bff'},children:\"NEXUS\"})]}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#a6a6c9',fontSize:'0.8em'},children:\"Hyper-vision Coastal Digital Twin\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleGuardianToggle,style:{display:'flex',alignItems:'center',gap:'10px',padding:'10px 16px',borderRadius:'999px',border:'1px solid rgba(255,255,255,0.15)',background:showGuardian?'rgba(0, 255, 214, 0.18)':'rgba(255,255,255,0.05)',color:'#f5f5ff',cursor:'pointer',fontWeight:600,letterSpacing:'0.06em'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.2em'},children:\"\\uD83D\\uDEF0\\uFE0F\"}),\"Guardian \",showGuardian?'Docked':'Hidden']})]}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.glassPanel),{},{padding:'10px 18px'}),children:/*#__PURE__*/_jsxs(\"select\",{onChange:e=>{const loc=COASTAL_POINTS.find(p=>p.name===e.target.value);setTargetLocation(loc);setVisData(null);setShowGraph(false);},style:{background:'transparent',border:'none',color:'#f8f8ff',fontWeight:500,minWidth:'220px',outline:'none'},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Target Zone...\"}),COASTAL_POINTS.map(p=>/*#__PURE__*/_jsx(\"option\",{value:p.name,children:p.name},p.name))]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flex:1,gap:'25px',padding:'0 25px 35px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.mapShell),{},{width:'min(100%, 1000px)',flexGrow:999}),children:/*#__PURE__*/_jsxs(\"div\",{style:styles.mapCard,children:[/*#__PURE__*/_jsxs(MapContainer,{center:[20.5937,78.9629],zoom:5,style:{height:'100%',minHeight:'520px',width:'100%',background:'#000'},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\",attribution:\"\\xA9 CARTO\"}),COASTAL_POINTS.map((point,idx)=>/*#__PURE__*/_jsx(Marker,{position:[point.lat,point.lon],children:/*#__PURE__*/_jsx(Popup,{style:{background:'#000'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"strong\",{children:point.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#00d2ff',fontSize:'0.9em'},children:point.type}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTargetLocation(point),style:{cursor:'pointer',marginTop:'8px',background:'#333',color:'white',border:'none',padding:'4px 8px',borderRadius:'3px'},children:\"Zoom Here\"})]})})},idx)),visData&&currentBounds&&/*#__PURE__*/_jsx(ImageOverlay,{url:visData.mask_image,bounds:currentBounds,opacity:0.8}),/*#__PURE__*/_jsx(MapController,{onBoundsChange:setCurrentBounds,targetLocation:targetLocation})]}),/*#__PURE__*/_jsx(AnimatedTransectsOverlay,{active:!!visData})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-stack\",style:_objectSpread(_objectSpread(_objectSpread({},styles.glassPanel),styles.controlPanel),{},{minWidth:'320px',flex:'1 1 320px'}),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,color:'#fefefe',letterSpacing:'0.1em'},children:\"CONTROL DECK\"}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#b6b6d8'},children:\"Adaptive intelligence suite\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(255,255,255,0.02)',borderRadius:'20px',padding:'18px',border:'1px solid rgba(255,255,255,0.08)'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',justifyContent:'space-between',color:'#d6d6fb',fontWeight:600},children:[\"Predictive Model\",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#ff6adf'},children:[\"+\",futureYear,\" yrs\"]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"50\",step:\"5\",value:futureYear,onChange:e=>setFutureYear(Number(e.target.value)),style:{width:'100%',accentColor:'#b700ff',height:'6px',marginTop:'12px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'0.75em',color:'#7c7ca0'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Now\"}),/*#__PURE__*/_jsx(\"span\",{children:\"+25\"}),/*#__PURE__*/_jsx(\"span\",{children:\"+50\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAnalyze,disabled:loading,style:_objectSpread(_objectSpread({},styles.glassButton),{},{borderColor:'rgba(0,210,255,0.6)',color:'#00eaff',boxShadow:'0 12px 30px rgba(0, 200, 255, 0.2)'}),children:loading?'Processing...':'Run Twin Simulation'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateReport,disabled:loading,style:_objectSpread(_objectSpread({},styles.glassButton),{},{background:'linear-gradient(120deg, rgba(0,210,255,0.25), rgba(126,0,255,0.3))',color:'#fff',boxShadow:'0 12px 30px rgba(126,0,255,0.35)'}),children:\"Generate Strategic Report\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAIPredictor,disabled:loading,style:_objectSpread(_objectSpread({},styles.aiButton),{},{opacity:loading?0.6:1}),children:[/*#__PURE__*/_jsxs(\"span\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:styles.aiButtonIcon,children:/*#__PURE__*/_jsx(\"span\",{style:styles.aiButtonArrow})}),\"AI Predictor Terminal\"]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.85em',letterSpacing:'0.15em'},children:\"LIVE\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleGraph,style:_objectSpread(_objectSpread({},styles.glassButton),{},{background:showGraph?'rgba(0,0,0,0.35)':'rgba(255, 0, 125, 0.3)',borderColor:'rgba(255,255,255,0.2)',color:'#fff'}),children:showGraph?'Hide Graph Output':'Show Real Time Graph ðŸ“Š'}),showGraph&&visData&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',background:'rgba(255,255,255,0.02)',borderRadius:'20px',padding:'15px',border:'1px solid rgba(255,255,255,0.06)'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:'0 0 10px 0',color:'#c6c6ff'},children:\"Real-time Telemetry\"}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'220px'},children:/*#__PURE__*/_jsx(Line,{data:getChartData(),options:chartOptions})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'0.8em',color:'#d1d1ff',marginTop:'8px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Veg: \",visData.metrics.vegetation_coverage,\"%\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Risk: \",visData.metrics.erosion_risk_index]})]})]})]})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n                    @keyframes fadeIn {\\n                        from { opacity: 0; transform: translateY(10px); }\\n                        to { opacity: 1; transform: translateY(0); }\\n                    }\\n                    @keyframes transectSweep {\\n                        from { background-position: 0 0; }\\n                        to { background-position: 320px 0; }\\n                    }\\n                    @media (max-width: 1100px) {\\n                        .neon-header {\\n                            flex-direction: column;\\n                            gap: 15px;\\n                        }\\n                    }\\n                    @media (max-width: 900px) {\\n                        .control-stack {\\n                            width: 100%;\\n                        }\\n                    }\\n                \"})]}),/*#__PURE__*/_jsx(LiveIntelWidget,{visData:visData,onDeepScan:handleGuardianScan,scanLog:guardianLog,visible:showGuardian,position:guardianPos,onDragStart:handleGuardianDragStart})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","ImageOverlay","useMapEvents","Marker","Popup","L","axios","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","BarElement","Title","Tooltip","Legend","Filler","Line","Bar","icon","iconShadow","jsx","_jsx","jsxs","_jsxs","DefaultIcon","iconUrl","shadowUrl","iconSize","iconAnchor","prototype","options","register","COASTAL_POINTS","name","lat","lon","type","styles","appShell","position","minHeight","background","color","fontFamily","overflow","gradientBackdrop","inset","zIndex","neonNoise","backgroundImage","mixBlendMode","opacity","pointerEvents","header","padding","display","justifyContent","alignItems","glassPanel","border","borderRadius","backdropFilter","boxShadow","controlPanel","flex","flexDirection","gap","mapShell","mapCard","glassButton","width","cursor","fontWeight","letterSpacing","transition","aiButton","aiButtonIcon","height","placeItems","marginRight","aiButtonArrow","borderLeft","borderRight","borderBottom","transform","getDefaultGuardianPos","x","y","window","innerHeight","MapController","_ref","onBoundsChange","targetLocation","map","moveend","getBounds","zoomend","flyTo","animate","duration","ReportModal","_ref2","data","location","onClose","style","top","left","children","onClick","right","fontSize","paddingBottom","marginTop","marginBottom","ai_recommendation","borderCollapse","textAlign","timeline_data","row","idx","year","vegetation","erosion_risk","restoration_potential","status","print","PredictorModal","_ref3","chartData","labels","visit_points","_","concat","datasets","label","graph_data","backgroundColor","borderColor","borderWidth","chartOptions","responsive","plugins","legend","title","text","scales","ticks","grid","maxHeight","overflowY","point","toFixed","summary","classification","src","gis_image","alt","maxWidth","AnimatedTransectsOverlay","_ref4","active","wrapperStyle","sweepStyle","animation","LiveIntelWidget","_ref5","_visData$metrics$vege","_visData$metrics","_visData$metrics$eros","_visData$metrics2","visData","onDeepScan","scanLog","visible","onDragStart","veg","metrics","vegetation_coverage","erosion","erosion_risk_index","healthScore","Math","max","min","round","onMouseDown","margin","e","stopPropagation","App","currentBounds","setCurrentBounds","setVisData","reportData","setReportData","showReport","setShowReport","showGraph","setShowGraph","loading","setLoading","setTargetLocation","futureYear","setFutureYear","predictorData","setPredictorData","showPredictor","setShowPredictor","guardianLog","setGuardianLog","showGuardian","setShowGuardian","guardianPos","setGuardianPos","guardianDrag","setGuardianDrag","offsetX","offsetY","handleAnalyze","bbox","getSouth","getWest","getNorth","getEast","res","post","future_year","show_transects","err","console","error","alert","handleGenerateReport","handleAIPredictor","handleGuardianScan","_visData$metrics$eros2","_visData$metrics3","statusBank","risk","pick","floor","random","length","handleGuardianToggle","prev","handleGuardianDragStart","preventDefault","clientX","clientY","handleMove","event","newX","innerWidth","newY","handleUp","_objectSpread","addEventListener","removeEventListener","handleResize","toggleGraph","getChartData","sliderLabel","sliderInfluence","vegetationSeries","value","adjusted","Number","erosionSeries","shorelineSeries","tension","borderDash","maintainAspectRatio","boxWidth","font","size","className","onChange","loc","find","p","target","minWidth","outline","flexWrap","flexGrow","center","zoom","url","attribution","mask_image","bounds","step","accentColor","disabled"],"sources":["D:/2202117/COASPIRE/coaspire/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { MapContainer, TileLayer, ImageOverlay, useMapEvents, Marker, Popup } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\nimport axios from 'axios';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, BarElement, Title, Tooltip, Legend, Filler } from 'chart.js';\r\nimport { Line, Bar } from 'react-chartjs-2';\r\n\r\n// --- LEAFLET ICON FIX ---\r\nimport icon from 'leaflet/dist/images/marker-icon.png';\r\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\r\nlet DefaultIcon = L.icon({ iconUrl: icon, shadowUrl: iconShadow, iconSize: [25, 41], iconAnchor: [12, 41] });\r\nL.Marker.prototype.options.icon = DefaultIcon;\r\n\r\n// --- REGISTER CHART COMPONENTS ---\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, BarElement, Title, Tooltip, Legend, Filler);\r\n\r\n// --- 25 GLOBAL LOCATIONS ---\r\nconst COASTAL_POINTS = [\r\n  // INDIA\r\n  { name: \"Puri Beach, Odisha\", lat: 19.798, lon: 85.824, type: \"Erosion Risk\" },\r\n  { name: \"Marine Drive, Mumbai\", lat: 18.944, lon: 72.823, type: \"Urban Coast\" },\r\n  { name: \"Marina Beach, Chennai\", lat: 13.050, lon: 80.282, type: \"Sandy\" },\r\n  { name: \"Varkala, Kerala\", lat: 8.737, lon: 76.716, type: \"Cliff\" },\r\n  { name: \"Visakhapatnam\", lat: 17.704, lon: 83.332, type: \"Port City\" },\r\n  { name: \"Lakshadweep\", lat: 10.566, lon: 72.641, type: \"Atoll\" },\r\n  { name: \"Digha, WB\", lat: 21.626, lon: 87.507, type: \"Deltaic\" },\r\n  { name: \"Rameswaram\", lat: 9.287, lon: 79.312, type: \"Coral\" },\r\n  { name: \"Andaman Islands\", lat: 11.976, lon: 92.987, type: \"Mangrove\" },\r\n  { name: \"Calangute, Goa\", lat: 15.549, lon: 73.753, type: \"Recreational\" },\r\n  \r\n  // GLOBAL\r\n  { name: \"Gold Coast, Australia\", lat: -28.016, lon: 153.400, type: \"High Energy\" },\r\n  { name: \"Miami Beach, USA\", lat: 25.790, lon: -80.130, type: \"Flood Risk\" },\r\n  { name: \"Maldives\", lat: 3.202, lon: 73.220, type: \"Critical Level\" },\r\n  { name: \"Dubai, UAE\", lat: 25.204, lon: 55.270, type: \"Artificial\" },\r\n  { name: \"Cancun, Mexico\", lat: 21.161, lon: -86.851, type: \"Tourism\" },\r\n  { name: \"Copacabana, Brazil\", lat: -22.969, lon: -43.182, type: \"Urban\" },\r\n  { name: \"Nice, France\", lat: 43.696, lon: 7.265, type: \"Pebble\" },\r\n  { name: \"Phuket, Thailand\", lat: 7.880, lon: 98.392, type: \"Tropical\" },\r\n  { name: \"Bali, Indonesia\", lat: -8.409, lon: 115.188, type: \"Volcanic\" },\r\n  { name: \"Cape Town, SA\", lat: -33.924, lon: 18.424, type: \"Rocky\" },\r\n  { name: \"Santorini, Greece\", lat: 36.393, lon: 25.461, type: \"Caldera\" },\r\n  { name: \"Bora Bora\", lat: -16.500, lon: -151.741, type: \"Lagoon\" },\r\n  { name: \"Bondi Beach, Aus\", lat: -33.891, lon: 151.277, type: \"Bay\" },\r\n  { name: \"Outer Banks, USA\", lat: 35.558, lon: -75.466, type: \"Barrier\" },\r\n  { name: \"Cornwall, UK\", lat: 50.266, lon: -5.052, type: \"Rugged\" }\r\n];\r\n\r\nconst styles = {\r\n    appShell: {\r\n        position: 'relative',\r\n        minHeight: '100vh',\r\n        background: '#050505',\r\n        color: '#f4f4f4',\r\n        fontFamily: '\"Poppins\", \"Segoe UI\", sans-serif',\r\n        overflow: 'hidden'\r\n    },\r\n    gradientBackdrop: {\r\n        position: 'fixed',\r\n        inset: 0,\r\n        background: 'radial-gradient(circle at 20% 20%, rgba(255,0,150,0.25), transparent 60%), radial-gradient(circle at 80% 0%, rgba(0,200,255,0.2), transparent 55%), linear-gradient(120deg, #05060a, #090014)',\r\n        zIndex: 0\r\n    },\r\n    neonNoise: {\r\n        position: 'fixed',\r\n        inset: 0,\r\n        backgroundImage: 'url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'160\\' height=\\'160\\' viewBox=\\'0 0 160 160\\'%3E%3Cpath fill=\\'%23555\\' fill-opacity=\\'0.05\\' d=\\'M0 0h20v20H0z\\'/%3E%3C/svg%3E\")',\r\n        mixBlendMode: 'soft-light',\r\n        opacity: 0.4,\r\n        pointerEvents: 'none'\r\n    },\r\n    header: {\r\n        padding: '20px 30px',\r\n        position: 'relative',\r\n        zIndex: 2,\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    },\r\n    glassPanel: {\r\n        background: 'rgba(10,10,15,0.7)',\r\n        border: '1px solid rgba(255,255,255,0.08)',\r\n        borderRadius: '24px',\r\n        backdropFilter: 'blur(18px)',\r\n        boxShadow: '0 25px 60px rgba(0,0,0,0.45)'\r\n    },\r\n    controlPanel: {\r\n        flex: 1,\r\n        padding: '25px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '18px'\r\n    },\r\n    mapShell: {\r\n        flex: 3,\r\n        padding: '25px',\r\n        minHeight: 0\r\n    },\r\n    mapCard: {\r\n        borderRadius: '32px',\r\n        overflow: 'hidden',\r\n        border: '1px solid rgba(255,255,255,0.08)',\r\n        boxShadow: '0 25px 60px rgba(0,0,0,0.55)',\r\n        position: 'relative'\r\n    },\r\n    glassButton: {\r\n        width: '100%',\r\n        padding: '14px 18px',\r\n        borderRadius: '50px',\r\n        border: '1px solid rgba(255,255,255,0.2)',\r\n        background: 'rgba(255,255,255,0.08)',\r\n        color: '#f5f5f5',\r\n        cursor: 'pointer',\r\n        fontWeight: 600,\r\n        letterSpacing: '0.03em',\r\n        backdropFilter: 'blur(10px)',\r\n        transition: 'transform 0.2s ease, box-shadow 0.2s ease'\r\n    },\r\n    aiButton: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        padding: '15px 22px',\r\n        borderRadius: '48px',\r\n        border: '1px solid rgba(22,220,255,0.4)',\r\n        background: 'linear-gradient(120deg, #00c6ff 0%, #7a00ff 70%, #b300ff 100%)',\r\n        boxShadow: '0 18px 40px rgba(79,0,255,0.45)',\r\n        color: '#fff',\r\n        cursor: 'pointer',\r\n        fontWeight: 600,\r\n        letterSpacing: '0.04em'\r\n    },\r\n    aiButtonIcon: {\r\n        width: '42px',\r\n        height: '42px',\r\n        borderRadius: '999px',\r\n        background: 'rgba(0,0,0,0.25)',\r\n        display: 'grid',\r\n        placeItems: 'center',\r\n        marginRight: '16px'\r\n    },\r\n    aiButtonArrow: {\r\n        width: 0,\r\n        height: 0,\r\n        borderLeft: '10px solid transparent',\r\n        borderRight: '10px solid transparent',\r\n        borderBottom: '18px solid #00f5ff',\r\n        transform: 'rotate(90deg)'\r\n    }\r\n};\r\n\r\nconst getDefaultGuardianPos = () => ({\r\n    x: 30,\r\n    y: typeof window !== 'undefined' ? window.innerHeight - 230 : 520\r\n});\r\n\r\nfunction MapController({ onBoundsChange, targetLocation }) {\r\n  const map = useMapEvents({\r\n    moveend: () => onBoundsChange(map.getBounds()),\r\n    zoomend: () => onBoundsChange(map.getBounds()),\r\n  });\r\n  React.useEffect(() => {\r\n    if (targetLocation) {\r\n      map.flyTo([targetLocation.lat, targetLocation.lon], 13, { animate: true, duration: 1.5 });\r\n    }\r\n  }, [targetLocation, map]);\r\n  return null;\r\n}\r\n\r\nconst ReportModal = ({ data, location, onClose }) => {\r\n    if (!data) return null;\r\n    return (\r\n        <div style={{\r\n            position:'fixed', top:0, left:0, width:'100%', height:'100%', \r\n            background:'rgba(0,0,0,0.85)', zIndex:9999, display:'flex', \r\n            justifyContent:'center', alignItems:'center', backdropFilter:'blur(5px)'\r\n        }}>\r\n            <div style={{\r\n                width:'700px', background:'#111', border:'2px solid #00d2ff', \r\n                borderRadius:'10px', padding:'30px', position:'relative',\r\n                boxShadow:'0 0 30px rgba(0, 210, 255, 0.3)', color: 'white'\r\n            }}>\r\n                <button onClick={onClose} style={{position:'absolute', top:'15px', right:'20px', background:'none', border:'none', color:'white', fontSize:'20px', cursor:'pointer'}}>âœ–</button>\r\n                <h2 style={{color:'#00d2ff', borderBottom:'1px solid #333', paddingBottom:'10px', marginTop: 0}}>ðŸ“„ STRATEGIC COASTAL REPORT</h2>\r\n                <h4 style={{color:'white', marginTop:'5px'}}>Target Zone: {location?.name || \"Unknown Region\"}</h4>\r\n                <div style={{background:'#1a1a1a', padding:'15px', borderRadius:'5px', marginBottom:'20px', borderLeft:'4px solid #00d2ff'}}>\r\n                    <strong style={{color:'#00d2ff'}}>AI STRATEGY:</strong><br/>\r\n                    <span style={{color:'#ddd', fontSize:'0.9em'}}>{data.ai_recommendation}</span>\r\n                </div>\r\n                <table style={{width:'100%', borderCollapse:'collapse', color:'#ccc', fontSize:'0.9em'}}>\r\n                    <thead>\r\n                        <tr style={{borderBottom:'1px solid #444', textAlign:'left'}}>\r\n                            <th style={{padding:'10px'}}>Timeline</th>\r\n                            <th>Vegetation (%)</th>\r\n                            <th>Erosion Index</th>\r\n                            <th>Recovery Potential</th>\r\n                            <th>Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data.timeline_data.map((row, idx) => (\r\n                            <tr key={idx} style={{borderBottom:'1px solid #222'}}>\r\n                                <td style={{padding:'10px', color:'white'}}>{row.year}</td>\r\n                                <td style={{color: row.vegetation < 50 ? '#ff0055' : '#00ffcc'}}>{row.vegetation}%</td>\r\n                                <td>{row.erosion_risk}</td>\r\n                                <td style={{color:'#00d2ff'}}>{row.restoration_potential}</td>\r\n                                <td style={{fontWeight:'bold', color: row.status === 'CRITICAL' ? '#ff0055' : row.status === 'WARNING' ? '#ffcc00' : '#00ffcc'}}>{row.status}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                <div style={{marginTop:'25px', display:'flex', justifyContent:'flex-end', gap:'10px'}}>\r\n                    <button onClick={() => window.print()} style={{padding:'10px 20px', background:'#333', color:'white', border:'1px solid #555', cursor:'pointer', borderRadius:'4px'}}>Print PDF</button>\r\n                    <button onClick={onClose} style={{padding:'10px 20px', background:'#00d2ff', color:'black', fontWeight:'bold', border:'none', cursor:'pointer', borderRadius:'4px'}}>Close Report</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst PredictorModal = ({ data, onClose }) => {\r\n    if (!data) return null;\r\n    const chartData = {\r\n        labels: data.visit_points.map((_, idx) => `Point ${idx + 1}`),\r\n        datasets: [{\r\n            label: 'Optimistic Data Values',\r\n            data: data.graph_data,\r\n            backgroundColor: 'rgba(0, 210, 255, 0.6)',\r\n            borderColor: '#00d2ff',\r\n            borderWidth: 1\r\n        }]\r\n    };\r\n    const chartOptions = {\r\n        responsive: true,\r\n        plugins: {\r\n            legend: { labels: { color: '#ccc' } },\r\n            title: { display: true, text: 'Visit Points Analysis', color: '#00d2ff' }\r\n        },\r\n        scales: {\r\n            x: { ticks: { color: '#888' }, grid: { color: '#333' } },\r\n            y: { ticks: { color: '#888' }, grid: { color: '#333' } }\r\n        }\r\n    };\r\n    return (\r\n        <div style={{\r\n            position:'fixed', top:0, left:0, width:'100%', height:'100%', \r\n            background:'rgba(0,0,0,0.85)', zIndex:9999, display:'flex', \r\n            justifyContent:'center', alignItems:'center', backdropFilter:'blur(5px)'\r\n        }}>\r\n            <div style={{\r\n                width:'800px', maxHeight:'90vh', overflowY:'auto', background:'#111', border:'2px solid #00d2ff', \r\n                borderRadius:'10px', padding:'30px', position:'relative',\r\n                boxShadow:'0 0 30px rgba(0, 210, 255, 0.3)', color: 'white'\r\n            }}>\r\n                <button onClick={onClose} style={{position:'absolute', top:'15px', right:'20px', background:'none', border:'none', color:'white', fontSize:'20px', cursor:'pointer'}}>âœ–</button>\r\n                <h2 style={{color:'#00d2ff', borderBottom:'1px solid #333', paddingBottom:'10px', marginTop: 0}}>ðŸ¤– AI PREDICTOR RESULTS</h2>\r\n                <div style={{marginBottom:'20px'}}>\r\n                    <h4>Graph Plot:</h4>\r\n                    <div style={{height:'300px'}}>\r\n                        <Bar data={chartData} options={chartOptions} />\r\n                    </div>\r\n                </div>\r\n                <div style={{marginBottom:'20px'}}>\r\n                    <h4>Numerical Values:</h4>\r\n                    <table style={{width:'100%', borderCollapse:'collapse', color:'#ccc', fontSize:'0.9em'}}>\r\n                        <thead>\r\n                            <tr style={{borderBottom:'1px solid #444'}}>\r\n                                <th style={{padding:'10px'}}>Point</th>\r\n                                <th>Lat</th>\r\n                                <th>Lon</th>\r\n                                <th>Data Value</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {data.visit_points.map((point, idx) => (\r\n                                <tr key={idx} style={{borderBottom:'1px solid #222'}}>\r\n                                    <td style={{padding:'10px'}}>{idx + 1}</td>\r\n                                    <td>{point.lat.toFixed(4)}</td>\r\n                                    <td>{point.lon.toFixed(4)}</td>\r\n                                    <td>{data.graph_data[idx]}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div style={{marginBottom:'20px'}}>\r\n                    <h4>Classification:</h4>\r\n                    <p style={{color:'#ddd'}}>{data.summary.classification}</p>\r\n                </div>\r\n                <div style={{marginBottom:'20px'}}>\r\n                    <h4>GIS Picture:</h4>\r\n                    <img src={`data:image/png;base64,${data.gis_image}`} alt=\"GIS\" style={{maxWidth:'100%', border:'1px solid #333'}} />\r\n                </div>\r\n                <div style={{display:'flex', justifyContent:'flex-end', gap:'10px'}}>\r\n                    <button onClick={() => window.print()} style={{padding:'10px 20px', background:'#333', color:'white', border:'1px solid #555', cursor:'pointer', borderRadius:'4px'}}>Print</button>\r\n                    <button onClick={onClose} style={{padding:'10px 20px', background:'#00d2ff', color:'black', fontWeight:'bold', border:'none', cursor:'pointer', borderRadius:'4px'}}>Close</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst AnimatedTransectsOverlay = ({ active }) => {\r\n    if (!active) return null;\r\n    const wrapperStyle = {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        pointerEvents: 'none',\r\n        overflow: 'hidden',\r\n    };\r\n    const sweepStyle = {\r\n        width: '100%',\r\n        height: '100%',\r\n        backgroundImage: 'repeating-linear-gradient( 90deg, rgba(255,255,255,0.08) 0px, rgba(255,255,255,0.08) 2px, transparent 2px, transparent 18px)',\r\n        animation: 'transectSweep 4s linear infinite',\r\n        mixBlendMode: 'screen',\r\n        opacity: 0.45,\r\n        backdropFilter: 'blur(0.5px)'\r\n    };\r\n    return (\r\n        <div style={wrapperStyle}>\r\n            <div style={sweepStyle} />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst LiveIntelWidget = ({ visData, onDeepScan, scanLog, visible, position, onDragStart }) => {\r\n    if (!visible) return null;\r\n    const veg = visData?.metrics?.vegetation_coverage ?? 62;\r\n    const erosion = visData?.metrics?.erosion_risk_index ?? 38;\r\n    const healthScore = Math.max(0, Math.min(100, Math.round(veg - erosion / 3)));\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                position: 'fixed',\r\n                left: `${position.x}px`,\r\n                top: `${position.y}px`,\r\n                width: '260px',\r\n                padding: '18px',\r\n                borderRadius: '24px',\r\n                background: 'rgba(8,8,20,0.85)',\r\n                border: '1px solid rgba(255,255,255,0.12)',\r\n                boxShadow: '0 15px 35px rgba(0,0,0,0.45)',\r\n                backdropFilter: 'blur(14px)',\r\n                color: '#e8e8ff',\r\n                zIndex: 5,\r\n                cursor: 'grab'\r\n            }}\r\n            onMouseDown={onDragStart}\r\n        >\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <div>\r\n                    <div style={{ fontSize: '0.75em', letterSpacing: '0.2em', color: '#8f9aff' }}>SPECTRAL NODE</div>\r\n                    <strong style={{ fontSize: '1.1em' }}>Guardian Watch</strong>\r\n                </div>\r\n                <span style={{ width: '10px', height: '10px', borderRadius: '50%', background: '#32ffd2', boxShadow: '0 0 8px #32ffd2' }} />\r\n            </div>\r\n            <div style={{ margin: '18px 0 10px' }}>\r\n                <div style={{ fontSize: '0.75em', color: '#b7b7d3', marginBottom: '6px' }}>Bio-Shield Integrity</div>\r\n                <div style={{ height: '12px', borderRadius: '999px', background: 'rgba(255,255,255,0.08)', overflow: 'hidden' }}>\r\n                    <div style={{ width: `${healthScore}%`, height: '100%', background: 'linear-gradient(90deg,#00ffc6,#7d34ff)' }} />\r\n                </div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.75em', color: '#9a9ab9', marginTop: '4px' }}>\r\n                    <span>{healthScore}%</span>\r\n                    <span>Stability</span>\r\n                </div>\r\n            </div>\r\n            <div style={{ fontSize: '0.75em', color: '#b4b4d6', minHeight: '34px' }}>{scanLog || 'Awaiting deep scan command.'}</div>\r\n            <button onClick={(e) => { e.stopPropagation(); onDeepScan(); }} style={{\r\n                marginTop: '10px',\r\n                width: '100%',\r\n                padding: '10px 0',\r\n                borderRadius: '999px',\r\n                border: '1px solid rgba(0,255,214,0.6)',\r\n                background: 'rgba(0,0,0,0.35)',\r\n                color: '#f5f5ff',\r\n                fontWeight: 600,\r\n                cursor: 'pointer'\r\n            }}>\r\n                Deploy Deep Scan\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- MAIN APPLICATION ---\r\nfunction App() {\r\n  const [currentBounds, setCurrentBounds] = useState(null);\r\n  const [visData, setVisData] = useState(null); \r\n  const [reportData, setReportData] = useState(null); \r\n  const [showReport, setShowReport] = useState(false);\r\n  const [showGraph, setShowGraph] = useState(false); // GRAPH VISIBILITY STATE\r\n  const [loading, setLoading] = useState(false);\r\n  const [targetLocation, setTargetLocation] = useState(null);\r\n  const [futureYear, setFutureYear] = useState(0);\r\n  const [predictorData, setPredictorData] = useState(null);\r\n  const [showPredictor, setShowPredictor] = useState(false);\r\n    const [guardianLog, setGuardianLog] = useState('');\r\n    const [showGuardian, setShowGuardian] = useState(true);\r\n    const [guardianPos, setGuardianPos] = useState(getDefaultGuardianPos);\r\n    const [guardianDrag, setGuardianDrag] = useState({ active: false, offsetX: 0, offsetY: 0 });\r\n\r\n  // 1. RUN SIMULATION\r\n  const handleAnalyze = async () => {\r\n    if (!currentBounds) return;\r\n    setLoading(true);\r\n    // Reset graph on new run\r\n    setShowGraph(false);\r\n    \r\n    const bbox = [currentBounds.getSouth(), currentBounds.getWest(), currentBounds.getNorth(), currentBounds.getEast()];\r\n    \r\n    try {\r\n      const res = await axios.post('http://localhost:3000/api/coastal-analysis', {\r\n        bbox, future_year: futureYear, show_transects: true\r\n      });\r\n      setVisData(res.data);\r\n    } catch (err) { \r\n        console.error(err); \r\n        alert(\"Connection Error: Ensure Node (3000) and Python (5000) are running.\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  // 2. GENERATE REPORT\r\n  const handleGenerateReport = async () => {\r\n    setLoading(true);\r\n    try {\r\n        const res = await axios.post('http://localhost:3000/api/generate-report', {});\r\n        setReportData(res.data);\r\n        setShowReport(true);\r\n    } catch (err) { alert(\"Failed to generate report.\"); }\r\n    setLoading(false);\r\n  };\r\n\r\n  // 3. AI PREDICTOR\r\n  const handleAIPredictor = async () => {\r\n    setLoading(true);\r\n    try {\r\n        const res = await axios.post('http://localhost:3000/api/ai-predictor', {});\r\n        setPredictorData(res.data);\r\n        setShowPredictor(true);\r\n    } catch (err) { alert(\"Failed to run AI Predictor.\"); }\r\n    setLoading(false);\r\n  };\r\n\r\n    const handleGuardianScan = () => {\r\n        const statusBank = [\r\n                'Ionizing coastal drift... residual surge dampened.',\r\n                'Mangrove lattice shows regenerative pulse.',\r\n                'Infra-spectral sweep detected latent erosion pockets.',\r\n                'Turbulence barrier calibrated to +3.2 resilience index.'\r\n        ];\r\n        const risk = visData?.metrics?.erosion_risk_index ?? 42;\r\n        const pick = statusBank[Math.floor(Math.random() * statusBank.length)];\r\n        setGuardianLog(`${pick} Risk vector ${risk.toFixed(1)}.`);\r\n    };\r\n\r\n    const handleGuardianToggle = () => setShowGuardian(prev => !prev);\r\n\r\n    const handleGuardianDragStart = (e) => {\r\n        e.preventDefault();\r\n        setGuardianDrag({ active: true, offsetX: e.clientX - guardianPos.x, offsetY: e.clientY - guardianPos.y });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!guardianDrag.active) return;\r\n        const handleMove = (event) => {\r\n            setGuardianPos(prev => {\r\n                const newX = Math.min(Math.max(10, event.clientX - guardianDrag.offsetX), window.innerWidth - 280);\r\n                const newY = Math.min(Math.max(10, event.clientY - guardianDrag.offsetY), window.innerHeight - 190);\r\n                return { x: newX, y: newY };\r\n            });\r\n        };\r\n        const handleUp = () => setGuardianDrag(prev => ({ ...prev, active: false }));\r\n        window.addEventListener('mousemove', handleMove);\r\n        window.addEventListener('mouseup', handleUp);\r\n        return () => {\r\n            window.removeEventListener('mousemove', handleMove);\r\n            window.removeEventListener('mouseup', handleUp);\r\n        };\r\n    }, [guardianDrag]);\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setGuardianPos(prev => ({\r\n                x: Math.min(prev.x, window.innerWidth - 280),\r\n                y: Math.min(prev.y, window.innerHeight - 190)\r\n            }));\r\n        };\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n  // 3. TOGGLE GRAPH HANDLER\r\n  const toggleGraph = () => {\r\n      if (!visData) {\r\n          alert(\"Please click 'Run Twin Simulation' first to generate data!\");\r\n          return;\r\n      }\r\n      setShowGraph(!showGraph);\r\n  };\r\n\r\n  // --- CHART CONFIG ---\r\n    const getChartData = () => {\r\n        const sliderLabel = futureYear > 0 ? `Year +${futureYear}` : 'Year +50';\r\n        const labels = ['Year 0', 'Year 10', 'Year 20', 'Year 30', 'Year 40', sliderLabel];\r\n        const sliderInfluence = futureYear / 5; // smooth response for all series\r\n\r\n        const vegetationSeries = [80, 75, 70, 65, 60, 55].map((value, idx) => {\r\n                const adjusted = value - sliderInfluence * idx;\r\n                return Math.max(20, Number(adjusted.toFixed(2)));\r\n        });\r\n\r\n        const erosionSeries = [20, 25, 30, 40, 55, 60].map((value, idx) => {\r\n                const adjusted = value + sliderInfluence * (idx + 1);\r\n                return Math.min(95, Number(adjusted.toFixed(2)));\r\n        });\r\n\r\n        const shorelineSeries = [5, 10, 15, 25, 35, 45].map((value, idx) => {\r\n                const adjusted = value + (sliderInfluence * idx) / 2;\r\n                return Number(adjusted.toFixed(2));\r\n        });\r\n\r\n        if (visData) {\r\n                vegetationSeries[vegetationSeries.length - 1] = visData.metrics.vegetation_coverage;\r\n                erosionSeries[erosionSeries.length - 1] = visData.metrics.erosion_risk_index;\r\n        }\r\n\r\n        return {\r\n            labels,\r\n            datasets: [\r\n                {\r\n                    label: 'Vegetation Edge',\r\n                    data: vegetationSeries,\r\n                    borderColor: '#00ffcc',\r\n                    backgroundColor: 'rgba(0, 255, 204, 0.1)',\r\n                    tension: 0.4\r\n                },\r\n                {\r\n                    label: 'Coastal Erosion',\r\n                    data: erosionSeries,\r\n                    borderColor: '#ff0055',\r\n                    backgroundColor: 'rgba(255, 0, 85, 0.1)',\r\n                    tension: 0.4\r\n                },\r\n                {\r\n                    label: 'Water Shorelines',\r\n                    data: shorelineSeries,\r\n                    borderColor: '#00d2ff',\r\n                    borderDash: [5, 5],\r\n                    tension: 0.4\r\n                }\r\n            ]\r\n        };\r\n    };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n        legend: { labels: { color: '#ccc', boxWidth: 10, font: { size: 10 } } },\r\n        title: { display: false }\r\n    },\r\n    scales: {\r\n        x: { grid: { color: '#333' }, ticks: { color: '#888', font: { size: 9 } } },\r\n        y: { grid: { color: '#333' }, ticks: { color: '#888', font: { size: 9 } } }\r\n    }\r\n  };\r\n\r\n    return (\r\n        <div style={styles.appShell}>\r\n            <div style={styles.gradientBackdrop} />\r\n            <div style={styles.neonNoise} />\r\n\r\n            {showReport && <ReportModal data={reportData} location={targetLocation} onClose={() => setShowReport(false)} />}\r\n            {showPredictor && <PredictorModal data={predictorData} onClose={() => setShowPredictor(false)} />}\r\n\r\n            <div style={{ position: 'relative', zIndex: 1, display: 'flex', flexDirection: 'column', minHeight: '100vh' }}>\r\n                <header className=\"neon-header\" style={styles.header}>\r\n                    <div style={{ ...styles.glassPanel, padding: '18px 24px', flex: 1, marginRight: '20px', display: 'flex', alignItems: 'center', justifyContent: 'space-between', gap: '20px' }}>\r\n                        <div>\r\n                            <h2 style={{ margin: 0, color: '#fefefe', letterSpacing: '0.08em' }}>COASPIRE <span style={{ color: '#7f6bff' }}>NEXUS</span></h2>\r\n                            <small style={{ color: '#a6a6c9', fontSize: '0.8em' }}>Hyper-vision Coastal Digital Twin</small>\r\n                        </div>\r\n                        <button onClick={handleGuardianToggle} style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '10px',\r\n                            padding: '10px 16px',\r\n                            borderRadius: '999px',\r\n                            border: '1px solid rgba(255,255,255,0.15)',\r\n                            background: showGuardian ? 'rgba(0, 255, 214, 0.18)' : 'rgba(255,255,255,0.05)',\r\n                            color: '#f5f5ff',\r\n                            cursor: 'pointer',\r\n                            fontWeight: 600,\r\n                            letterSpacing: '0.06em'\r\n                        }}>\r\n                            <span style={{ fontSize: '1.2em' }}>ðŸ›°ï¸</span>\r\n                            Guardian {showGuardian ? 'Docked' : 'Hidden'}\r\n                        </button>\r\n                    </div>\r\n                    <div style={{ ...styles.glassPanel, padding: '10px 18px' }}>\r\n                        <select\r\n                            onChange={(e) => { const loc = COASTAL_POINTS.find(p => p.name === e.target.value); setTargetLocation(loc); setVisData(null); setShowGraph(false); }}\r\n                            style={{\r\n                                background: 'transparent',\r\n                                border: 'none',\r\n                                color: '#f8f8ff',\r\n                                fontWeight: 500,\r\n                                minWidth: '220px',\r\n                                outline: 'none'\r\n                            }}\r\n                        >\r\n                            <option>Select Target Zone...</option>\r\n                            {COASTAL_POINTS.map(p => <option key={p.name} value={p.name}>{p.name}</option>)}\r\n                        </select>\r\n                    </div>\r\n                </header>\r\n\r\n                <div style={{ display: 'flex', flex: 1, gap: '25px', padding: '0 25px 35px', flexWrap: 'wrap' }}>\r\n                    {/* MAP */}\r\n                    <div style={{ ...styles.mapShell, width: 'min(100%, 1000px)', flexGrow: 999 }}>\r\n                        <div style={styles.mapCard}>\r\n                            <MapContainer center={[20.5937, 78.9629]} zoom={5} style={{ height: '100%', minHeight: '520px', width: '100%', background: '#000' }}>\r\n                                <TileLayer url=\"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\" attribution='&copy; CARTO' />\r\n                                {COASTAL_POINTS.map((point, idx) => (\r\n                                    <Marker key={idx} position={[point.lat, point.lon]}>\r\n                                        <Popup style={{ background: '#000' }}>\r\n                                            <div style={{ textAlign: 'center' }}>\r\n                                                <strong>{point.name}</strong><br />\r\n                                                <span style={{ color: '#00d2ff', fontSize: '0.9em' }}>{point.type}</span><br />\r\n                                                <button onClick={() => setTargetLocation(point)} style={{ cursor: 'pointer', marginTop: '8px', background: '#333', color: 'white', border: 'none', padding: '4px 8px', borderRadius: '3px' }}>Zoom Here</button>\r\n                                            </div>\r\n                                        </Popup>\r\n                                    </Marker>\r\n                                ))}\r\n                                {visData && currentBounds && (<ImageOverlay url={visData.mask_image} bounds={currentBounds} opacity={0.8} />)}\r\n                                <MapController onBoundsChange={setCurrentBounds} targetLocation={targetLocation} />\r\n                            </MapContainer>\r\n                            <AnimatedTransectsOverlay active={!!visData} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* CONTROL CENTER */}\r\n                      <div className=\"control-stack\" style={{ ...styles.glassPanel, ...styles.controlPanel, minWidth: '320px', flex: '1 1 320px' }}>\r\n                        <div>\r\n                            <h4 style={{ margin: 0, color: '#fefefe', letterSpacing: '0.1em' }}>CONTROL DECK</h4>\r\n                            <small style={{ color: '#b6b6d8' }}>Adaptive intelligence suite</small>\r\n                        </div>\r\n\r\n                        <div style={{ background: 'rgba(255,255,255,0.02)', borderRadius: '20px', padding: '18px', border: '1px solid rgba(255,255,255,0.08)' }}>\r\n                            <label style={{ display: 'flex', justifyContent: 'space-between', color: '#d6d6fb', fontWeight: 600 }}>\r\n                                Predictive Model\r\n                                <span style={{ color: '#ff6adf' }}>+{futureYear} yrs</span>\r\n                            </label>\r\n                            <input\r\n                                type=\"range\"\r\n                                min=\"0\"\r\n                                max=\"50\"\r\n                                step=\"5\"\r\n                                value={futureYear}\r\n                                onChange={(e) => setFutureYear(Number(e.target.value))}\r\n                                style={{ width: '100%', accentColor: '#b700ff', height: '6px', marginTop: '12px' }}\r\n                            />\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.75em', color: '#7c7ca0' }}>\r\n                                <span>Now</span><span>+25</span><span>+50</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button onClick={handleAnalyze} disabled={loading} style={{ ...styles.glassButton, borderColor: 'rgba(0,210,255,0.6)', color: '#00eaff', boxShadow: '0 12px 30px rgba(0, 200, 255, 0.2)' }}>\r\n                            {loading ? 'Processing...' : 'Run Twin Simulation'}\r\n                        </button>\r\n\r\n                        <button onClick={handleGenerateReport} disabled={loading} style={{ ...styles.glassButton, background: 'linear-gradient(120deg, rgba(0,210,255,0.25), rgba(126,0,255,0.3))', color: '#fff', boxShadow: '0 12px 30px rgba(126,0,255,0.35)' }}>\r\n                            Generate Strategic Report\r\n                        </button>\r\n\r\n                        <button onClick={handleAIPredictor} disabled={loading} style={{ ...styles.aiButton, opacity: loading ? 0.6 : 1 }}>\r\n                            <span style={{ display: 'flex', alignItems: 'center' }}>\r\n                                <span style={styles.aiButtonIcon}><span style={styles.aiButtonArrow} /></span>\r\n                                AI Predictor Terminal\r\n                            </span>\r\n                            <span style={{ fontSize: '0.85em', letterSpacing: '0.15em' }}>LIVE</span>\r\n                        </button>\r\n\r\n                        <button onClick={toggleGraph} style={{ ...styles.glassButton, background: showGraph ? 'rgba(0,0,0,0.35)' : 'rgba(255, 0, 125, 0.3)', borderColor: 'rgba(255,255,255,0.2)', color: '#fff' }}>\r\n                            {showGraph ? 'Hide Graph Output' : 'Show Real Time Graph ðŸ“Š'}\r\n                        </button>\r\n\r\n                        {showGraph && visData && (\r\n                            <div style={{ marginTop: '10px', background: 'rgba(255,255,255,0.02)', borderRadius: '20px', padding: '15px', border: '1px solid rgba(255,255,255,0.06)' }}>\r\n                                <h5 style={{ margin: '0 0 10px 0', color: '#c6c6ff' }}>Real-time Telemetry</h5>\r\n                                <div style={{ minHeight: '220px' }}>\r\n                                    <Line data={getChartData()} options={chartOptions} />\r\n                                </div>\r\n                                <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.8em', color: '#d1d1ff', marginTop: '8px' }}>\r\n                                    <span>Veg: {visData.metrics.vegetation_coverage}%</span>\r\n                                    <span>Risk: {visData.metrics.erosion_risk_index}</span>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <style>{`\r\n                    @keyframes fadeIn {\r\n                        from { opacity: 0; transform: translateY(10px); }\r\n                        to { opacity: 1; transform: translateY(0); }\r\n                    }\r\n                    @keyframes transectSweep {\r\n                        from { background-position: 0 0; }\r\n                        to { background-position: 320px 0; }\r\n                    }\r\n                    @media (max-width: 1100px) {\r\n                        .neon-header {\r\n                            flex-direction: column;\r\n                            gap: 15px;\r\n                        }\r\n                    }\r\n                    @media (max-width: 900px) {\r\n                        .control-stack {\r\n                            width: 100%;\r\n                        }\r\n                    }\r\n                `}</style>\r\n            </div>\r\n            <LiveIntelWidget\r\n                visData={visData}\r\n                onDeepScan={handleGuardianScan}\r\n                scanLog={guardianLog}\r\n                visible={showGuardian}\r\n                position={guardianPos}\r\n                onDragStart={handleGuardianDragStart}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}